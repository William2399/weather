{"ast":null,"code":"import _slicedToArray from\"/Users/william2399/Desktop/weather/weather-application/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var api={key:\"51c9f7d875fce6fd89dc0efe9d649278\",base:\"https://api.openweathermap.org/data/2.5/\"};var SearchBox=function SearchBox(_ref){var weather=_ref.weather,setWeather=_ref.setWeather;var _useState=useState('Los Angeles'),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),errorMessage=_useState4[0],setErrorMessage=_useState4[1];var search=function search(query){fetch(\"\".concat(api.base,\"forecast?q=\").concat(query,\"&units=imperial&APPID=\").concat(api.key)).then(function(res){return res.json();}).then(function(result){if(result.count===0||!query||result.cod===\"404\"||result.cod===\"400\"){setErrorMessage(\"Place not found\");}else{setErrorMessage(\"\");fetch(\"\".concat(api.base,\"weather?q=\").concat(query,\"&units=imperial&APPID=\").concat(api.key)).then(function(res){return res.json();}).then(function(result){setWeather(result);console.log(result);}).then(function(){setQuery('');});}});};useEffect(function(){search(query);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"search-box\",children:[/*#__PURE__*/_jsx(\"input\",{className:typeof weather.main===\"undefined\"?\"search-bar hidden\":\"search-bar\",value:query,placeholder:\"Search Location...\",onChange:function onChange(e){return setQuery(e.target.value);},onKeyPress:function onKeyPress(evt){if(evt.key===\"Enter\"){search(query);}}}),errorMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errorMessage})]});};export default SearchBox;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","api","key","base","SearchBox","_ref","weather","setWeather","_useState","_useState2","_slicedToArray","query","setQuery","_useState3","_useState4","errorMessage","setErrorMessage","search","fetch","concat","then","res","json","result","count","cod","console","log","className","children","main","value","placeholder","onChange","e","target","onKeyPress","evt"],"sources":["/Users/william2399/Desktop/weather/weather-application/src/Components/SearchBox.js"],"sourcesContent":["import React, { useEffect, useState} from 'react'\n\nconst api = {\n  key: \"51c9f7d875fce6fd89dc0efe9d649278\",\n  base: \"https://api.openweathermap.org/data/2.5/\"\n}\n\nconst SearchBox = ({weather, setWeather}) => {\n    const [query, setQuery] = useState('Los Angeles')\n    const [errorMessage, setErrorMessage] = useState(\"\")\n  \n    const search = (query) => {\n      fetch(`${api.base}forecast?q=${query}&units=imperial&APPID=${api.key}`)\n        .then(res => res.json())\n        .then(result => {\n          if (result.count === 0 || !query || result.cod === \"404\" \n            || result.cod === \"400\") {\n            setErrorMessage(\"Place not found\")\n          } else {\n            setErrorMessage(\"\")\n            fetch(`${api.base}weather?q=${query}&units=imperial&APPID=${api.key}`)\n              .then(res => res.json())\n              .then(result => {\n                setWeather(result)\n                console.log(result);\n              })\n              .then(() => {setQuery('')})\n          }\n        })\n    }\n\n    useEffect(() => {search(query)}, [])\n\n    return (\n      <div className=\"search-box\">\n        <input\n          className={typeof weather.main === \"undefined\" ? \n            \"search-bar hidden\" : \"search-bar\"}\n          value={query}  \n          placeholder=\"Search Location...\"\n          onChange={e => setQuery(e.target.value)}\n          onKeyPress={evt => {if (evt.key === \"Enter\") {search(query)}}}\n        />\n        {errorMessage && (\n        <div className=\"error-message\">{errorMessage}</div>\n        )}\n      </div>\n    )\n  }\n\nexport default SearchBox"],"mappings":"4IAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAO,OAAO,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEjD,GAAM,CAAAC,GAAG,CAAG,CACVC,GAAG,CAAE,kCAAkC,CACvCC,IAAI,CAAE,0CACR,CAAC,CAED,GAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAAC,IAAA,CAA8B,IAAzB,CAAAC,OAAO,CAAAD,IAAA,CAAPC,OAAO,CAAEC,UAAU,CAAAF,IAAA,CAAVE,UAAU,CACnC,IAAAC,SAAA,CAA0BZ,QAAQ,CAAC,aAAa,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA1CG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,IAAAI,UAAA,CAAwCjB,QAAQ,CAAC,EAAE,CAAC,CAAAkB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA7CE,YAAY,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IAEpC,GAAM,CAAAG,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAIN,KAAK,CAAK,CACxBO,KAAK,IAAAC,MAAA,CAAIlB,GAAG,CAACE,IAAI,gBAAAgB,MAAA,CAAcR,KAAK,2BAAAQ,MAAA,CAAyBlB,GAAG,CAACC,GAAG,EAAG,CACpEkB,IAAI,CAAC,SAAAC,GAAG,QAAI,CAAAA,GAAG,CAACC,IAAI,EAAE,GAAC,CACvBF,IAAI,CAAC,SAAAG,MAAM,CAAI,CACd,GAAIA,MAAM,CAACC,KAAK,GAAK,CAAC,EAAI,CAACb,KAAK,EAAIY,MAAM,CAACE,GAAG,GAAK,KAAK,EACnDF,MAAM,CAACE,GAAG,GAAK,KAAK,CAAE,CACzBT,eAAe,CAAC,iBAAiB,CAAC,CACpC,CAAC,IAAM,CACLA,eAAe,CAAC,EAAE,CAAC,CACnBE,KAAK,IAAAC,MAAA,CAAIlB,GAAG,CAACE,IAAI,eAAAgB,MAAA,CAAaR,KAAK,2BAAAQ,MAAA,CAAyBlB,GAAG,CAACC,GAAG,EAAG,CACnEkB,IAAI,CAAC,SAAAC,GAAG,QAAI,CAAAA,GAAG,CAACC,IAAI,EAAE,GAAC,CACvBF,IAAI,CAAC,SAAAG,MAAM,CAAI,CACdhB,UAAU,CAACgB,MAAM,CAAC,CAClBG,OAAO,CAACC,GAAG,CAACJ,MAAM,CAAC,CACrB,CAAC,CAAC,CACDH,IAAI,CAAC,UAAM,CAACR,QAAQ,CAAC,EAAE,CAAC,EAAC,CAAC,CAC/B,CACF,CAAC,CAAC,CACN,CAAC,CAEDjB,SAAS,CAAC,UAAM,CAACsB,MAAM,CAACN,KAAK,CAAC,EAAC,CAAE,EAAE,CAAC,CAEpC,mBACEX,KAAA,QAAK4B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB/B,IAAA,UACE8B,SAAS,CAAE,MAAO,CAAAtB,OAAO,CAACwB,IAAI,GAAK,WAAW,CAC5C,mBAAmB,CAAG,YAAa,CACrCC,KAAK,CAAEpB,KAAM,CACbqB,WAAW,CAAC,oBAAoB,CAChCC,QAAQ,CAAE,SAAAA,SAAAC,CAAC,QAAI,CAAAtB,QAAQ,CAACsB,CAAC,CAACC,MAAM,CAACJ,KAAK,CAAC,EAAC,CACxCK,UAAU,CAAE,SAAAA,WAAAC,GAAG,CAAI,CAAC,GAAIA,GAAG,CAACnC,GAAG,GAAK,OAAO,CAAE,CAACe,MAAM,CAACN,KAAK,CAAC,EAAC,CAAE,EAC9D,CACDI,YAAY,eACbjB,IAAA,QAAK8B,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEd,YAAY,EAC3C,GACG,CAEV,CAAC,CAEH,cAAe,CAAAX,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}