{"ast":null,"code":"var _jsxFileName = \"/Users/william2399/Desktop/weather/weather-application/src/Components/SearchBox.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst api = {\n  key: \"51c9f7d875fce6fd89dc0efe9d649278\",\n  base: \"https://api.openweathermap.org/data/2.5/\"\n};\nconst SearchBox = _ref => {\n  _s();\n  let {\n    weather,\n    setWeather\n  } = _ref;\n  const [query, setQuery] = useState('Los Angeles');\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const search = query => {\n    fetch(`${api.base}forecast?q=${query}&units=imperial&APPID=${api.key}`).then(res => res.json()).then(result => {\n      if (result.count === 0 || !query || result.cod === \"404\" || result.cod === \"400\") {\n        setErrorMessage(\"Place not found\");\n      } else {\n        setErrorMessage(\"\");\n        fetch(`${api.base}weather?q=${query}&units=imperial&APPID=${api.key}`).then(res => res.json()).then(result => {\n          setWeather(result);\n          console.log(result);\n        }).then(() => {\n          setQuery('');\n        });\n      }\n    });\n  };\n  useEffect(() => {\n    search(query);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-box\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      className: typeof weather.main === \"undefined\" ? \"search-bar hidden\" : \"search-bar\",\n      value: query,\n      placeholder: \"Search Location...\",\n      onChange: e => setQuery(e.target.value),\n      onKeyPress: evt => {\n        if (evt.key === \"Enter\") {\n          search(query);\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 7\n  }, this);\n};\n_s(SearchBox, \"5UTE+krKvVarY48JAHPv/jXnX5c=\");\n_c = SearchBox;\nexport default SearchBox;\nvar _c;\n$RefreshReg$(_c, \"SearchBox\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","api","key","base","SearchBox","_ref","_s","weather","setWeather","query","setQuery","errorMessage","setErrorMessage","search","fetch","then","res","json","result","count","cod","console","log","className","children","main","value","placeholder","onChange","e","target","onKeyPress","evt","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/william2399/Desktop/weather/weather-application/src/Components/SearchBox.js"],"sourcesContent":["import React, { useEffect, useState} from 'react'\n\nconst api = {\n  key: \"51c9f7d875fce6fd89dc0efe9d649278\",\n  base: \"https://api.openweathermap.org/data/2.5/\"\n}\n\nconst SearchBox = ({weather, setWeather}) => {\n    const [query, setQuery] = useState('Los Angeles')\n    const [errorMessage, setErrorMessage] = useState(\"\")\n  \n    const search = (query) => {\n      fetch(`${api.base}forecast?q=${query}&units=imperial&APPID=${api.key}`)\n        .then(res => res.json())\n        .then(result => {\n          if (result.count === 0 || !query || result.cod === \"404\" \n            || result.cod === \"400\") {\n            setErrorMessage(\"Place not found\")\n          } else {\n            setErrorMessage(\"\")\n            fetch(`${api.base}weather?q=${query}&units=imperial&APPID=${api.key}`)\n              .then(res => res.json())\n              .then(result => {\n                setWeather(result)\n                console.log(result);\n              })\n              .then(() => {setQuery('')})\n          }\n        })\n    }\n\n    useEffect(() => {search(query)}, [])\n\n    return (\n      <div className=\"search-box\">\n        <input\n          className={typeof weather.main === \"undefined\" ? \n            \"search-bar hidden\" : \"search-bar\"}\n          value={query}  \n          placeholder=\"Search Location...\"\n          onChange={e => setQuery(e.target.value)}\n          onKeyPress={evt => {if (evt.key === \"Enter\") {search(query)}}}\n        />\n        {errorMessage && (\n        <div className=\"error-message\">{errorMessage}</div>\n        )}\n      </div>\n    )\n  }\n\nexport default SearchBox"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAO,OAAO;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEjD,MAAMC,GAAG,GAAG;EACVC,GAAG,EAAE,kCAAkC;EACvCC,IAAI,EAAE;AACR,CAAC;AAED,MAAMC,SAAS,GAAGC,IAAA,IAA2B;EAAAC,EAAA;EAAA,IAA1B;IAACC,OAAO;IAAEC;EAAU,CAAC,GAAAH,IAAA;EACpC,MAAM,CAACI,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,aAAa,CAAC;EACjD,MAAM,CAACa,YAAY,EAAEC,eAAe,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAEpD,MAAMe,MAAM,GAAIJ,KAAK,IAAK;IACxBK,KAAK,CAAE,GAAEb,GAAG,CAACE,IAAK,cAAaM,KAAM,yBAAwBR,GAAG,CAACC,GAAI,EAAC,CAAC,CACpEa,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,EAAE,CAAC,CACvBF,IAAI,CAACG,MAAM,IAAI;MACd,IAAIA,MAAM,CAACC,KAAK,KAAK,CAAC,IAAI,CAACV,KAAK,IAAIS,MAAM,CAACE,GAAG,KAAK,KAAK,IACnDF,MAAM,CAACE,GAAG,KAAK,KAAK,EAAE;QACzBR,eAAe,CAAC,iBAAiB,CAAC;MACpC,CAAC,MAAM;QACLA,eAAe,CAAC,EAAE,CAAC;QACnBE,KAAK,CAAE,GAAEb,GAAG,CAACE,IAAK,aAAYM,KAAM,yBAAwBR,GAAG,CAACC,GAAI,EAAC,CAAC,CACnEa,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,EAAE,CAAC,CACvBF,IAAI,CAACG,MAAM,IAAI;UACdV,UAAU,CAACU,MAAM,CAAC;UAClBG,OAAO,CAACC,GAAG,CAACJ,MAAM,CAAC;QACrB,CAAC,CAAC,CACDH,IAAI,CAAC,MAAM;UAACL,QAAQ,CAAC,EAAE,CAAC;QAAA,CAAC,CAAC;MAC/B;IACF,CAAC,CAAC;EACN,CAAC;EAEDb,SAAS,CAAC,MAAM;IAACgB,MAAM,CAACJ,KAAK,CAAC;EAAA,CAAC,EAAE,EAAE,CAAC;EAEpC,oBACET,OAAA;IAAKuB,SAAS,EAAC,YAAY;IAAAC,QAAA,gBACzBxB,OAAA;MACEuB,SAAS,EAAE,OAAOhB,OAAO,CAACkB,IAAI,KAAK,WAAW,GAC5C,mBAAmB,GAAG,YAAa;MACrCC,KAAK,EAAEjB,KAAM;MACbkB,WAAW,EAAC,oBAAoB;MAChCC,QAAQ,EAAEC,CAAC,IAAInB,QAAQ,CAACmB,CAAC,CAACC,MAAM,CAACJ,KAAK,CAAE;MACxCK,UAAU,EAAEC,GAAG,IAAI;QAAC,IAAIA,GAAG,CAAC9B,GAAG,KAAK,OAAO,EAAE;UAACW,MAAM,CAACJ,KAAK,CAAC;QAAA;MAAC;IAAE;MAAAwB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAC9D,EACDzB,YAAY,iBACbX,OAAA;MAAKuB,SAAS,EAAC,eAAe;MAAAC,QAAA,EAAEb;IAAY;MAAAsB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAC3C;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACG;AAEV,CAAC;AAAA9B,EAAA,CAzCGF,SAAS;AAAAiC,EAAA,GAATjC,SAAS;AA2Cf,eAAeA,SAAS;AAAA,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}